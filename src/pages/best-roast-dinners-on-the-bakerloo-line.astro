---
import TubeLinePageLayout from "../layouts/TubeLinePageLayout.astro";
export const prerender = true;

import { getSinglePageData } from "../lib/getSinglePageData";
import { getTubeLineRoastPosts } from "../lib/getTubeLineRoastPosts";
import { organiseComments } from "../lib/utils";

const variables = { id: "6947" };
const singlePage = await getSinglePageData({ variables });

const bakerlooStations = [
  "Harrow And Wealdstone",
  "Kenton",
  "South Kenton",
  "North Wembley",
  "Wembley Central",
  "Stonebridge Park",
  "Harlesden",
  "Willesden Junction",
  "Kensal Green",
  "Queen’s Park",
  "Kilburn Park",
  "Maida Vale",
  "Warwick Avenue",
  "Paddington",
  "Edgware Road",
  "Marylebone",
  "Baker Street",
  "Regent’s Park",
  "Oxford Circus",
  "Piccadilly Circus",
  "Charing Cross",
  "Embankment",
  "Waterloo",
  "Lambeth North",
  "Elephant And Castle",
];

const roastPosts = await getTubeLineRoastPosts(bakerlooStations);

const threadedComments = organiseComments(singlePage.comments.nodes);
---

<TubeLinePageLayout
  singlePage={singlePage}
  lineName="Bakerloo"
  headingClass="bakerloo"
  stations={bakerlooStations}
  roastPosts={roastPosts}
  threadedComments={threadedComments}
/>
