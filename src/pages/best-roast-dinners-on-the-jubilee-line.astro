---
import TubeLinePageLayout from "../layouts/TubeLinePageLayout.astro";
export const prerender = true;

import { getSinglePageData } from "../lib/getSinglePageData";
import { getTubeLineRoastPosts } from "../lib/getTubeLineRoastPosts";
import { organiseComments } from "../lib/utils";

const variables = { id: "6980" };
const singlePage = await getSinglePageData({ variables });

const jubileeLineStations = [
  "Stanmore",
  "Canons Park",
  "Queensbury",
  "Kingsbury",
  "Wembley Park",
  "Neasden",
  "Dollis Hill",
  "Willesden Green",
  "Kilburn",
  "West Hampstead",
  "Finchley Road",
  "Swiss Cottage",
  "St. John’s Wood",
  "Baker Street",
  "Bond Street",
  "Green Park",
  "Westminster",
  "Waterloo",
  "Southwark",
  "London Bridge",
  "Bermondsey",
  "Canada Water",
  "Canary Wharf",
  "North Greenwich",
  "Canning Town",
  "West Ham",
  "Stratford",
];

const roastPosts = await getTubeLineRoastPosts(jubileeLineStations);

const threadedComments = organiseComments(singlePage.comments.nodes);
---

<TubeLinePageLayout
  singlePage={singlePage}
  lineName="Jubilee"
  headingClass="jubilee"
  stations={jubileeLineStations}
  roastPosts={roastPosts}
  threadedComments={threadedComments}
/>
