---
import TubeLinePageLayout from "../layouts/TubeLinePageLayout.astro";
export const prerender = true;

import { getSinglePageData } from "../lib/getSinglePageData";
import { getTubeLineRoastPosts } from "../lib/getTubeLineRoastPosts";
import { organiseComments } from "../lib/utils";

const variables = { id: "7165" };
const singlePage = await getSinglePageData({ variables });

const centralLineStations = [
  "West Ruislip",
  "Ruislip Gardens",
  "South Ruislip",
  "Northolt",
  "Greenford",
  "Perivale",
  "Hangar Lane",
  "Ealing Broadway",
  "West Acton",
  "North Acton",
  "East Acton",
  "White City",
  "Shepherd’s Bush",
  "Holland Park",
  "Notting Hill Gate",
  "Queensway",
  "Lancaster Gate",
  "Marble Arch",
  "Bond Street",
  "Oxford Circus",
  "Tottenham Court Road",
  "Holborn",
  "Chancery Lane",
  "St. Paul’s",
  "Bank",
  "Liverpool Street",
  "Bethnal Green",
  "Mile End",
  "Stratford",
  "Leyton",
  "Leytonstone",
  "Wanstead",
  "Redbridge",
  "Gants Hill",
  "Newbury Park",
  "Barkingside",
  "Fairlop",
  "Hainault",
  "Grange Hill",
  "Chigwell",
  "Roding Valley",
  "Snaresbrook",
  "South Woodford",
  "Woodford",
  "Buckhurst Hill",
  "Loughton",
  "Debden",
  "Theydon Bois",
  "Epping",
];

const roastPosts = await getTubeLineRoastPosts(centralLineStations);

const threadedComments = organiseComments(singlePage.comments.nodes);
---

<TubeLinePageLayout
  singlePage={singlePage}
  lineName="Central"
  headingClass="central"
  stations={centralLineStations}
  roastPosts={roastPosts}
  threadedComments={threadedComments}
/>
