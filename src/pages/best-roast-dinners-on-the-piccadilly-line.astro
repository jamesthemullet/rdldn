---
import TubeLinePageLayout from "../layouts/TubeLinePageLayout.astro";
import { getTubeLineRoastPosts } from "../lib/getTubeLineRoastPosts";
import { organiseComments } from "../lib/utils";

export const prerender = true;

import { getSinglePageData } from "../lib/getSinglePageData";

const variables = { id: "7038" };
const singlePage = await getSinglePageData({ variables });

const piccadillyLineStations = [
  "Uxbridge",
  "Hillingdon",
  "Ickenham",
  "Ruislip",
  "Ruislip Manor",
  "Eastcote",
  "Rayners Lane",
  "South Harrow",
  "Sudbury Hill",
  "Sudbury Town",
  "Alperton",
  "Royal Park",
  "North Ealing",
  "Ealing Common",
  "Heathrow Terminal 4",
  "Heathrow Terminals 1,2,3",
  "Hatton Cross",
  "Hounslow West",
  "Hounslow Central",
  "Hounslow East",
  "Osterley",
  "Boston Manor",
  "Northfields",
  "South Ealing",
  "Acton Town",
  "Turnham Green",
  "Hammersmith",
  "Barons Court",
  "Earl’s Court",
  "Gloucester Road",
  "South Kensington",
  "Knightsbridge",
  "Hyde Park Corner",
  "Green Park",
  "Piccadilly Circus",
  "Leicester Square",
  "Covent Garden",
  "Holborn",
  "Russell Square",
  "King’s Cross St. Pancras",
  "Caledonian Road",
  "Holloway Road",
  "Arsenal",
  "Finsbury Park",
  "Manor House",
  "Turnpike Lane",
  "Wood Green",
  "Bounds Green",
  "Arnos Grove",
  "Southgate",
  "Oakwood",
  "Cockfosters",
];

const roastPosts = await getTubeLineRoastPosts(piccadillyLineStations);

const threadedComments = organiseComments(singlePage.comments.nodes);
---

<TubeLinePageLayout
  singlePage={singlePage}
  lineName="Piccadilly"
  headingClass="piccadilly"
  stations={piccadillyLineStations}
  roastPosts={roastPosts}
  threadedComments={threadedComments}
/>
